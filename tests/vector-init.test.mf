println(`vector::init([123, 456, 789]) is ` + repr(vector::init([123, 456, 789])));
println(`vector::init({"foo": 123, "bar": 456, "baz": 789}) is ` + repr(vector::init({"foo": 123, "bar": 456, "baz": 789})));
println(`vector::init({"foo", "bar", "baz"}) is ` + repr(vector::init({"foo", "bar", "baz"})));

let counter = type {
    "init": function(max) {
        return new counter {
            .cur: 1,
            .max: max
        };
    },
    "next": function(self) {
        if self.*.cur > self.*.max {
            error null; # end-of-iteration
        }
        let result = self.*.cur;
        self.*.cur = self.*.cur + 1;
        return result;
    },
};
println(`vector::init(counter::init(5)) is ` + repr(vector::init(counter::init(5))));

print("\n");

try { vector::init(null); } catch err { println(`vector::init(null) produces ` + repr(err)); }
try { vector::init(123); } catch err { println(`vector::init(123) produces ` + repr(err)); }
try { vector::init("foo"); } catch err { println(`vector::init("foo") produces ` + repr(err)); }
################################################################################
# vector::init([123, 456, 789]) is [123, 456, 789]
# vector::init({"foo": 123, "bar": 456, "baz": 789}) is [["foo", 123], ["bar", 456], ["baz", 789]]
# vector::init({"foo", "bar", "baz"}) is ["foo", "bar", "baz"]
# vector::init(counter::init(5)) is [1, 2, 3, 4, 5]
#
# vector::init(null) produces "cannot convert value null to vector"
# vector::init(123) produces "cannot convert value 123 to vector"
# vector::init("foo") produces "cannot convert value \"foo\" to vector"
